<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/starter.css">
  <link rel="icon" href="assets/choepfeler_logo.svg" type="image/x-icon"/>
  <title>Chöpfler</title>
</head>
<body id="body">
<div id="container" class="container">
  <header class="pb-3 mb-5 border-bottom">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 py-2">
        <div class="d-flex">
          <a href="index.html"><img alt="Chöpfler Logo mit Link" src="assets/logo.svg" height="50"></a>
        </div>
      </div>
      <div class="align-middle col-xs-12 col-sm-12 col-md-6 col-lg-6 py-2 text-right">
        <a href="search.html" id="searchButton" class="btn btn-outline-success" role="button"><i>Alle Badis</i></a>
      </div>
    </div>
  </header>
  <div class="row">
    <div class="col-10 col-sm-11">
      <h1 id="badname"></h1>
    </div>
    <div class="col-2 col-sm-1" style="text-align: right;">
      <a id="favorit" href="#"><h3><i class="bi-star text-warning"></i></h3></a>
    </div>
  </div>

  <br>
  <br>

  <div class="table-responsive">
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Becken</th>
        <th scope="col">Grad</th>
        <th scope="col">Datum</th>
        <th scope="col">Wetter</th>
      </tr>
      </thead>
      <tbody id="beckenListe">
      </tbody>
    </table>
  </div>
  <br>

  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 py-2">
        <h6>Öffnungszeiten:</h6>
        <p id="times"></p>
        <p id="counter"></p>
      </div>
      <div class="col-xs-9 col-sm-9 col-md-4 col-lg-4 py-1.5">
        <h6>Ort:</h6>
        <p id="badAdresse"></p>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 py-2">
        <h6>Preise:</h6>
        <p id="badpreise"></p>
      </div>

    </div>
  </div>

  <br>
  <br>

  <div class="img-carousel">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div hidden class="carousel-inner" id="slidePics">
      </div>
      <a hidden id="arrowLeft" class="carousel-control-prev" href="#carouselExampleControls" role="button"
         data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a hidden id="arrowRight" class="carousel-control-next" href="#carouselExampleControls" role="button"
         data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <div id="weather-data" style="text-align: center">
    <h2 class="my-5">Wetter</h2>
    <div id="weather-today">
      <p style="font-weight: bold">Heute</p>
      <div id="weather-icon"></div>
      <p id="weather-temperature"></p>
      <p id="weather-comment"></p>
      <p id="weather-thunderWarning"></p>
    </div>
    <div style="flex-direction: row; justify-content: center; margin: 0 auto" id="nextDays" visibility="hidden"
         class="weather-days">
    </div>
    <button id="toggleNextDay" class="btn btn-outline-success"><span class="ui-button-text">Wochenvorschau</span>
    </button>
    <p id="error-text"><span class="ui-error-text"></span></p>
  </div>

  <br>
  <br>

  <div style="text-align: center; margin-top: 3em; margin-bottom: 4em">
    <button id="maps-button" type='button'
            class="btn btn-outline-success">Google Maps anzeigen
    </button>
  </div>

  <div hidden id="maps-div" class="maps-div">
    <iframe width="100%" height="100%" id="map"
    ></iframe>
  </div>

  <!---->
  <!--Fahrplan Teil-->
  <!---->
  <div class="sbbFormAll">
    <img alt="sbb logo" src="assets/Extension.svg" class="sbbLogo">
    <form action="" id="sbbapp">
      <div class="sbbTop">
        <!--Von Bahnhof eingabe-->
        <div class="form-row">
          <div class="form-group col-md-6">
            <label class="sbbTopLeftLabel">Von</label>
            <input id="from" type="text" name="from" class="form-control"
                   aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default"/>
          </div>
          <div class="form-group col-md-6">
            <label class="sbbTopRightLable">Nach</label>
            <input id="to" type="text" name="to" class="form-control"
                   aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default"/>
          </div>
        </div>
      </div>
      <div class="sbbMiddle">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label class="sbbMiddleLeftLable">Datum</label>
            <input value="30.01.2022" id="date" type="text" name="date" class="form-control"
                   aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default"/>
          </div>
          <div class="form-group col-md-6">
            <label class="sbbMiddleRightLabel">Zeit</label>
            <input value="13:05" id="time" type="text" name="time" class="form-control"
                   aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default"/>
          </div>
        </div>
      </div>
      <div class="sbbBottom">
        <!--      Abfahrt ankunft Buttons-->
        <div class="sbbButtonDiv1">
          <div class="sbbButtonDiv2">
            <button id="search&#45;&#45;sbb" type="button" onclick="callSBB()"
                    class="searchConnectionBtn btn btn-outline-success">Verbindung
              suchen
            </button>
          </div>
        </div>
        <div class="abfahrtAnkunft">
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" value="false" name="isArrival" id="departure"
                   checked="checked">
            <label class="form-check-label" for="departure">Abfahrt</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input is_arrival" type="radio" value="true" name="isArrival" id="arrival">
            <label class="form-check-label" for="arrival">Ankunft</label>
          </div>
        </div>
      </div>
    </form>
  </div>
  <!---->
  <!--Fahrplan Teil Ende-->
  <!---->

</div>
<div class="spinnerLoading2" id="spinnerLoading">
  <img id="spinner" width="80px" height="auto" class="spinner" src="assets/choepfeler_logo.svg"/>
  <p class="loading"></p>
</div>
<footer class=full_footer>
  <img class="island" src="assets/island2.png" alt="picture of island"/>
  <div class="choepfler-webapp">
    <img class="logo" src="assets/choepfeler_logo.svg" alt="choepfler logo"/>
    <h4>Chöpfler Webapp ©</h4>
  </div>
  <div class="links-div">
    <div class="links">
      <p><a href="impressum.html" class="link-impressum">Impressum</a></p>
      <p><a href="./" class="link-impressum"><span>&#8593; &nbsp;</span></a></p>
    </div>
  </div>

</footer>

<script src="js/lib/jquery.slim.min.js"></script>
<script type="module" src="js/starter.js"></script>
<script type="module" src="js/details.js"></script>

<script>
  window.onload = function () {
    var month = new Array("01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12");
    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth();
    var currentMonth = month[mm];
    var yyyy = today.getFullYear();
    var hh = String(today.getHours()).padStart(2, '0');
    var min = String(today.getMinutes()).padStart(2, '0');
    today = dd + '.' + currentMonth + '.' + yyyy;
    time = hh + ':' + min;
    document.getElementById('date').value = today;
    document.getElementById('time').value = time;
  }

  function callSBB() {
    let sbbfrom = document.getElementById('from').value;
    let sbbto = document.getElementById('to').value;
    let sbbdate = document.getElementById('date').value;
    let sbbtime = document.getElementById('time').value;
    let arrival = "";

    if (document.getElementById('departure').checked) {
      arrival = "false";
    } else if (document.getElementById('arrival').checked) {
      arrival = "true";
    }
    let url = `https://www.sbb.ch/de/kaufen/pages/fahrplan/fahrplan.xhtml?von=${sbbfrom}&nach=${sbbto}&datum=${sbbdate}&zeit=${sbbtime}&an=${arrival}&suche=true`;
    window.open(url, '_blank');
  }
</script>


</body>
</html>
